{% extends "base.html" %}
{% block title %}Тема{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Тема курса {{ course.code }}</h1>

<form method="post" class="space-y-6">
  {% csrf_token %}

  <div class="card p-5 space-y-4">
    <h2 class="text-lg font-semibold">Основные данные</h2>
    {{ form.as_p }}
  </div>

  <div class="card p-5 space-y-4">
    <h2 class="text-lg font-semibold">Литература</h2>
    {{ literature_formset.management_form }}
    <div class="space-y-3">
      {% for form in literature_formset %}
        <div class="rounded border border-slate-200 p-3 bg-slate-50">
          {{ form.id }}
          <div class="grid gap-3 md:grid-cols-2">
            <div>{{ form.title.label_tag }} {{ form.title }}</div>
            <div>{{ form.author.label_tag }} {{ form.author }}</div>
            <div>{{ form.year.label_tag }} {{ form.year }}</div>
            <div>{{ form.lit_type.label_tag }} {{ form.lit_type }}</div>
          </div>
          {% if form.DELETE %}
            <label class="text-sm text-slate-600 mt-2 block">{{ form.DELETE }} Удалить запись</label>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    <p class="text-xs text-slate-500">Добавьте основную и дополнительную литературу.</p>
  </div>

  <div class="card p-5 space-y-4">
    <h2 class="text-lg font-semibold">Контрольные вопросы</h2>
    {{ question_formset.management_form }}
    <div class="space-y-3">
      {% for form in question_formset %}
        <div class="rounded border border-slate-200 p-3 bg-slate-50">
          {{ form.id }}
          <div class="grid gap-3">
            <div>{{ form.question_ru.label_tag }} {{ form.question_ru }}</div>
            <div>{{ form.question_kz.label_tag }} {{ form.question_kz }}</div>
            <div>{{ form.question_en.label_tag }} {{ form.question_en }}</div>
          </div>
          {% if form.DELETE %}
            <label class="text-sm text-slate-600 mt-2 block">{{ form.DELETE }} Удалить запись</label>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    <p class="text-xs text-slate-500">Можно заполнить на нужных языках.</p>
  </div>

  <button class="btn-primary">Сохранить</button>
</form>
{% endblock %}
