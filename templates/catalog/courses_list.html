{% extends "base.html" %}
{% block title %}{% if user.role == "admin" %}Курсы{% else %}Мои курсы{% endif %}{% endblock %}
{% block content %}
<div class="flex justify-between items-center mb-4">
  <h1 class="text-2xl font-semibold">
    {% if user.role == "admin" %}Курсы{% else %}Мои курсы{% endif %}
  </h1>
  <a href="{% url 'course_create' %}" class="btn-primary">Создать курс</a>
</div>

<table class="table">
  <thead>
    <tr class="border-b">
      <th class="text-left p-2">Код</th>
      <th class="text-left p-2">Название</th>
      <th class="text-left p-2">Языки</th>
      <th class="text-left p-2">Общий</th>
      <th class="text-left p-2"></th>
    </tr>
  </thead>
  <tbody>
  {% for course in courses %}
    <tr class="border-b">
      <td class="p-2">{{ course.code }}</td>
      <td class="p-2">{{ course.display_title }}</td>
      <td class="p-2">{{ course.available_languages_display }}</td>
      <td class="p-2">{{ course.is_shared|yesno:"Да,Нет" }}</td>
      <td class="p-2">
        <a href="{% url 'course_detail' course.pk %}" class="text-blue-600">Открыть</a>
      </td>
    </tr>
  {% empty %}
    <tr>
      <td colspan="5" class="p-4">Курсы пока не добавлены.</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
